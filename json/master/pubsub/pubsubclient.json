{"id":"pubsub\/pubsubclient","type":"class","title":"Google\\Cloud\\PubSub\\PubSubClient","name":"PubSubClient","description":"<p>Google Cloud Pub\/Sub client. Allows you to send and receive\nmessages between independent applications. Find more information at\n<a href=\"https:\/\/cloud.google.com\/pubsub\/docs\/\">Google Cloud Pub\/Sub docs<\/a>.<\/p>\n<p>The <a href=\"https:\/\/cloud.google.com\/pubsub\/emulator#env\">PUBSUB_EMULATOR_HOST<\/a> environment variable\nfrom the gcloud SDK is honored, otherwise the actual API endpoint will be used.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder();\n\n$pubsub = $cloud->pubsub();"},{"caption":"<p>PubSubClient can be instantiated directly.<\/p>","code":"use Google\\Cloud\\PubSub\\PubSubClient;\n\n$pubsub = new PubSubClient();"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/PubSub\/PubSubClient.php#L83","description":"<p>Create a PubSub client.<\/p>","examples":[],"resources":[],"params":[{"name":"config","description":"<p>Configuration Options.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"config.projectId","description":"<p>The project ID from the Google Developer's Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.authHttpHandler","description":"<p>A handler used to deliver Psr7 requests specifically for authentication.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.httpHandler","description":"<p>A handler used to deliver Psr7 requests.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.keyFile","description":"<p>The contents of the service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.keyFilePath","description":"<p>The full path to your service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.retries","description":"<p>Number of retries for a failed request. Defaults to 3.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"config.scopes","description":"<p>Scopes to be used for the request.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[]},{"id":"createTopic","type":"instance","name":"createTopic","source":"\/src\/PubSub\/PubSubClient.php#L111","description":"<p>Create a topic.<\/p>\n<p>Unlike <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"topic\">Google\\Cloud\\PubSub\\PubSubClient::topic()<\/a>, this method will send an API call to\ncreate the topic. If the topic already exists, an exception will be\nthrown. When in doubt, use <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"topic\">Google\\Cloud\\PubSub\\PubSubClient::topic()<\/a>.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->createTopic('my-new-topic');\necho $topic->info()['name']; \/\/ `projects\/my-awesome-project\/topics\/my-new-topic`"}],"resources":[{"title":"Create Topic","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/create"}],"params":[{"name":"name","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/topic\">Google\\Cloud\\PubSub\\Topic<\/a>"],"description":""}]},{"id":"topic","type":"instance","name":"topic","source":"\/src\/PubSub\/PubSubClient.php#L137","description":"<p>Lazily instantiate a topic with a topic name.<\/p>\n<p>No API requests are made by this method. If you want to create a new\ntopic, use <a data-custom-type=\"pubsub\/topic\" data-method=\"createTopic\">Google\\Cloud\\PubSub\\Topic::createTopic()<\/a>.<\/p>","examples":[{"caption":"<p>No API request yet!<\/p>","code":"$topic = $pubsub->topic('my-new-topic');\n\n\/\/ This will execute an API call.\necho $topic->info()['name']; \/\/ `projects\/my-awesome-project\/topics\/my-new-topic`"}],"resources":[],"params":[{"name":"name","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/topic\">Google\\Cloud\\PubSub\\Topic<\/a>"],"description":""}]},{"id":"topics","type":"instance","name":"topics","source":"\/src\/PubSub\/PubSubClient.php#L164","description":"<p>Get a list of the topics registered to your project.<\/p>","examples":[{"caption":"","code":"$topics = $pubsub->topics();\nforeach ($topics as $topic) {\n    $info = $topic->info();\n    echo $info['name']; \/\/ `projects\/my-awesome-project\/topics\/<topic-name>`\n}"}],"resources":[{"title":"List Topics","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/list"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.pageSize","description":"<p>Maximum number of results to return per request.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["Generator&lt;<a data-custom-type=\"pubsub\/topic\">Google\\Cloud\\PubSub\\Topic<\/a>&gt;"],"description":""}]},{"id":"subscribe","type":"instance","name":"subscribe","source":"\/src\/PubSub\/PubSubClient.php#L205","description":"<p>Create a Subscription. If the subscription does not exist, it will be\ncreated.<\/p>\n<p>Use <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"subscription\">Google\\Cloud\\PubSub\\PubSubClient::subscription()<\/a> to create a subscription object\nwithout any API requests. If the topic already exists, an exception will\nbe thrown. When in doubt, use <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"subscription\">Google\\Cloud\\PubSub\\PubSubClient::subscription()<\/a>.<\/p>","examples":[{"caption":"<p>Create a subscription. If it doesn't exist in the API, it will be created.<\/p>","code":"$subscription = $pubsub->subscribe('my-new-subscription', 'my-topic-name');"}],"resources":[{"title":"Create Subscription","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.subscriptions\/create"}],"params":[{"name":"name","description":"<p>A subscription name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"topicName","description":"<p>The topic to which the new subscription will be subscribed.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Please see <a data-custom-type=\"pubsub\/subscription\" data-method=\"create\">Google\\Cloud\\PubSub\\Subscription::create()<\/a> for configuration details.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscription","type":"instance","name":"subscription","source":"\/src\/PubSub\/PubSubClient.php#L231","description":"<p>Lazily instantiate a subscription with a subscription name.<\/p>\n<p>This method will NOT perform any API calls. If you wish to create a new\nsubscription, use <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"subscribe\">Google\\Cloud\\PubSub\\PubSubClient::subscribe()<\/a>.<\/p>\n<p>Unless you are sure the subscription exists, you should check its\nexistence before using it.<\/p>","examples":[{"caption":"","code":"$subscription = $pubsub->subscription('my-new-subscription');"}],"resources":[],"params":[{"name":"name","description":"<p>The subscription name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"topicName","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscriptions","type":"instance","name":"subscriptions","source":"\/src\/PubSub\/PubSubClient.php#L259","description":"<p>Get a list of the subscriptions registered to all of your project's\ntopics.<\/p>","examples":[{"caption":"","code":"$subscriptions = $pubsub->subscriptions();\nforeach ($subscriptions as $subscription) {\n     $info = $subscription->info();\n     echo $info['name']; \/\/ `projects\/my-awesome-project\/subscriptions\/<subscription-name>`\n}"}],"resources":[{"title":"List Subscriptions","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.subscriptions\/list"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.pageSize","description":"<p>Maximum number of results to return per request.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["Generator&lt;<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>&gt;"],"description":""}]}]}