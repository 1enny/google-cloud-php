{"id":"pubsub\/pubsubclient","type":"class","title":"Google\\Cloud\\PubSub\\PubSubClient","name":"PubSubClient","description":"<p>Google Cloud Pub\/Sub client. Allows you to send and receive\nmessages between independent applications. Find more information at\n<a href=\"https:\/\/cloud.google.com\/pubsub\/docs\/\">Google Cloud Pub\/Sub docs<\/a>.<\/p>","methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/PubSub\/PubSubClient.php#L80","description":"<p>Create a PubSub client.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n\/\/ The PubSub client can also be instantianted directly.\nuse Google\\Cloud\\PubSub\\PubSubClient;\n\n$pubsub = new PubSubClient([\n    'projectId' => 'my-awesome-project'\n]);"}],"resources":[],"params":[{"name":"config","description":"<p>Configuration Options.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"config.projectId","description":"<p>The project ID from the Google Developer's Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.authHttpHandler","description":"<p>A handler used to deliver Psr7 requests specifically for authentication.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.httpHandler","description":"<p>A handler used to deliver Psr7 requests.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.keyFile","description":"<p>The contents of the service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.keyFilePath","description":"<p>The full path to your service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.retries","description":"<p>Number of retries for a failed request. Defaults to 3.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"config.scopes","description":"<p>Scopes to be used for the request.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[]},{"id":"createTopic","type":"instance","name":"createTopic","source":"\/src\/PubSub\/PubSubClient.php#L118","description":"<p>Create a topic.<\/p>\n<p>Unlike <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"topic\">Google\\Cloud\\PubSub\\PubSubClient::topic()<\/a>, this method will\nsend an API call to create the topic. If the topic already exists, an\nexception will be thrown. When in doubt, use\n<a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"topic\">Google\\Cloud\\PubSub\\PubSubClient::topic()<\/a>.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\PubSub\\StorageClient;\n\n$pubsub = new PubSubClient([\n    'projectId' => 'my-awesome-project'\n]);\n\n$topic = $pubsub->createTopic('my-new-topic');\necho $topic->info()['name']; \/\/ `projects\/my-awesome-project\/topics\/my-new-topic`"}],"resources":[],"params":[{"name":"name","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/topic\">Google\\Cloud\\PubSub\\Topic<\/a>"],"description":""}]},{"id":"topic","type":"instance","name":"topic","source":"\/src\/PubSub\/PubSubClient.php#L153","description":"<p>Get a topic by its name.<\/p>\n<p>No API requests are made by this method. If you want to create a new\ntopic, use <a data-custom-type=\"pubsub\/topic\" data-method=\"createTopic\">Google\\Cloud\\PubSub\\Topic::createTopic()<\/a>.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\PubSub\\StorageClient;\n\n$pubsub = new PubSubClient([\n    'projectId' => 'my-awesome-project'\n]);\n\n\/\/ No API request yet!\n$topic = $pubsub->topic('my-new-topic');\n\n\/\/ This will execute an API call.\necho $topic->info()['name']; \/\/ `projects\/my-awesome-project\/topics\/my-new-topic`"}],"resources":[],"params":[{"name":"name","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"info","description":"<p>Information about the topic. Used internally to\npopulate topic objects with an API result. Should be\nan instance of <a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics#Topic\">Topic<\/a>.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/topic\">Google\\Cloud\\PubSub\\Topic<\/a>"],"description":""}]},{"id":"topics","type":"instance","name":"topics","source":"\/src\/PubSub\/PubSubClient.php#L184","description":"<p>Get a list of the topics registered to your project.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\PubSub\\StorageClient;\n\n$pubsub = new PubSubClient([\n    'projectId' => 'my-awesome-project'\n]);\n\n$topics = $pubsub->topics();\nforeach ($topics as $topic) {\n    $info = $topic->info();\n    echo $info['name']; \/\/ `projects\/my-awesome-project\/topics\/<topic-name>`\n}"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.pageSize","description":"<p>Maximum number of results to return per request.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/generator\">Google\\Cloud\\PubSub\\Generator<\/a>"],"description":""}]},{"id":"subscribe","type":"instance","name":"subscribe","source":"\/src\/PubSub\/PubSubClient.php#L231","description":"<p>Create a Subscription. If the subscription does not exist, it will be\ncreated.<\/p>\n<p>Use <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"subscription\">Google\\Cloud\\PubSub\\PubSubClient::subscription()<\/a> to create a\nsubscription object without any API requests. If the topic already\nexists, an exception will be thrown. When in doubt, use\n<a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"subscription\">Google\\Cloud\\PubSub\\PubSubClient::subscription()<\/a>.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$pubsub = new PubSubClient([\n    'projectId' => 'my-awesome-project'\n]);\n\n\/\/ Create a subscription. If it doesn't exist in the API, it will be created.\n$subscription = $pubsub->subscribe('my-new-subscription', 'my-topic-name');"}],"resources":[],"params":[{"name":"name","description":"<p>A subscription name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"topicName","description":"<p>The topic to which the new subscription will be subscribed.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Please see <a data-custom-type=\"pubsub\/subscription\" data-method=\"create\">Google\\Cloud\\PubSub\\Subscription::create()<\/a>\nfor configuration details.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscription","type":"instance","name":"subscription","source":"\/src\/PubSub\/PubSubClient.php#L265","description":"<p>Get a single subscription by its name.<\/p>\n<p>This method will NOT perform any API calls. If you wish to create a new\nsubscription, use <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"subscribe\">Google\\Cloud\\PubSub\\PubSubClient::subscribe()<\/a>.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\PubSub\\StorageClient;\n\n$pubsub = new PubSubClient([\n    'projectId' => 'my-awesome-project'\n]);\n\n\/\/ Create a subscription object. You should check if it exists before\n\/\/ using it, unless you're sure it's there.\n$subscription = $pubsub->subscription('my-new-subscription');"}],"resources":[],"params":[{"name":"name","description":"<p>The subscription name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"topicName","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"info","description":"<p>Information about the subscription. Used\nto populate subscriptons with an api result. Should be an instance\nof <a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.subscriptions#Subscription\">Subscription<\/a>.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscriptions","type":"instance","name":"subscriptions","source":"\/src\/PubSub\/PubSubClient.php#L306","description":"<p>Get a list of the subscriptions registered to all of your project's\ntopics.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\PubSub\\StorageClient;\n\n$pubsub = new PubSubClient([\n    'projectId' => 'my-awesome-project'\n]);\n\n$subscriptions = $pubsub->subscriptions();\nforeach ($subscriptions as $subscription) {\n     $info = $subscription->info();\n     echo $info['name']; \/\/ `projects\/my-awesome-project\/subscriptions\/<subscription-name>`\n}"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.pageSize","description":"<p>Maximum number of results to return per request.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["\\Generator"],"description":""}]}]}