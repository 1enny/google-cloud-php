{"id":"pubsub\/topic","type":"class","title":"Google\\Cloud\\PubSub\\Topic","name":"Topic","description":"<p>A named resource to which messages are sent by publishers.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$client = new ServiceBuilder();\n\n$pubsub = $client->pubsub();\n$topic = $pubsub->topic('my-topic-name');"},{"caption":"<p>You can also pass a fully-qualified topic name:<\/p>","code":"$topic = $pubsub->topic('projects\/my-awesome-project\/topics\/my-topic-name');"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/PubSub\/Topic.php#L82","description":"<p>Create a PubSub topic.<\/p>","examples":[],"resources":[],"params":[{"name":"connection","description":"<p>A connection to the Google Cloud\nPlatform service<\/p>","types":["<a data-custom-type=\"pubsub\/connection\/connectioninterface\">Google\\Cloud\\PubSub\\Connection\\ConnectionInterface<\/a>"],"optional":null,"nullable":null},{"name":"name","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"projectId","description":"<p>The project Id<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"info","description":"<p>A <a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\">Topic<\/a><\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"name","type":"instance","name":"name","source":"\/src\/PubSub\/Topic.php#L113","description":"<p>Get the topic name<\/p>","examples":[{"caption":"","code":"echo $topic->name();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["string"],"description":""}]},{"id":"create","type":"instance","name":"create","source":"\/src\/PubSub\/Topic.php#L134","description":"<p>Create a topic.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\nif ($topic->create()) {\n    echo 'Topic Created!';\n}"}],"resources":[{"title":"Create Topic","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/create"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p>Topic information<\/p>"}]},{"id":"delete","type":"instance","name":"delete","source":"\/src\/PubSub\/Topic.php#L158","description":"<p>Delete a topic.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n\n$topic->delete();"}],"resources":[{"title":"Delete Topic","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/delete"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["void"],"description":""}]},{"id":"exists","type":"instance","name":"exists","source":"\/src\/PubSub\/Topic.php#L183","description":"<p>Check if a topic exists.<\/p>\n<p>Service errors will NOT bubble up from this method. It will always return\na boolean value. If you want to check for errors, use\n<a data-custom-type=\"pubsub\/topic\" data-method=\"info\">Google\\Cloud\\PubSub\\Topic::info()<\/a>.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\nif ($topic->exists()) {\n    \/\/ do stuff\n}"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["bool"],"description":""}]},{"id":"info","type":"instance","name":"info","source":"\/src\/PubSub\/Topic.php#L217","description":"<p>Get topic information.<\/p>\n<p>Currently this resource returns only the topic name, if the topic exists.\nIt is mostly useful therefore for checking if a topic exists.<\/p>\n<p>Since this method will throw an exception if the topic is not found, you\nmay find that Topic::exists() is a better fit for a true\/false check.<\/p>\n<p>This method will use the previously cached result, if available. To force\na refresh from the API, use <a data-custom-type=\"pubsub\/topic\" data-method=\"reload\">Google\\Cloud\\Pubsub\\Topic::reload()<\/a>.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n$info = $topic->info();\necho $info['name']; \/\/ projects\/my-awesome-project\/topics\/my-topic-name"}],"resources":[{"title":"Get Topic","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/get"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\">A representation of a Topic<\/a><\/p>"}]},{"id":"reload","type":"instance","name":"reload","source":"\/src\/PubSub\/Topic.php#L251","description":"<p>Get topic information from the API.<\/p>\n<p>Currently this resource returns only the topic name, if the topic exists.\nIt is mostly useful therefore for checking if a topic exists.<\/p>\n<p>Since this method will throw an exception if the topic is not found, you\nmay find that Topic::exists() is a better fit for a true\/false check.<\/p>\n<p>This method will retrieve a new result from the API. To use a previously\ncached result, if one exists, use <a data-custom-type=\"pubsub\/topic\" data-method=\"info\">Google\\Cloud\\Pubsub\\Topic::info()<\/a>.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n$topic->reload();\n$info = $topic->info();\necho $info['name']; \/\/ projects\/my-awesome-project\/topics\/my-topic-name"}],"resources":[{"title":"Get Topic","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/get"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\">A representation of a Topic<\/a><\/p>"}]},{"id":"publish","type":"instance","name":"publish","source":"\/src\/PubSub\/Topic.php#L288","description":"<p>Publish a new message to the topic.<\/p>\n<p>$message must provide at least one of <code>data<\/code> and <code>attributes<\/code> members.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n$topic->publish([\n    'data' => 'New User Registered',\n    'attributes' => [\n        'id' => 1,\n        'userName' => 'John',\n        'location' => 'Detroit'\n    ]\n]);"}],"resources":[{"title":"Publish Message","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/publish"}],"params":[{"name":"message","description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/PubsubMessage\">Message Format<\/a><\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.encode","description":"<p>True by default. If set to false, the message data will not be base64-encoded. Only turn this off if you have already encoded your message data.<\/p>","types":["bool"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p>A list of message IDs<\/p>"}]},{"id":"publishBatch","type":"instance","name":"publishBatch","source":"\/src\/PubSub\/Topic.php#L334","description":"<p>Publish multiple messages at once.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n$topic->publishBatch([\n    [\n        'data' => 'New User Registered',\n        'attributes' => [\n            'id' => 1,\n            'userName' => 'John',\n            'location' => 'Detroit'\n        ]\n    ], [\n        'data' => 'New User Registered',\n        'attributes' => [\n            'id' => 2,\n            'userName' => 'Steve',\n            'location' => 'Mountain View'\n        ]\n    ]\n]);"}],"resources":[{"title":"Publish Message","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/publish"}],"params":[{"name":"messages","description":"<p>A list of messages. Each message must be in the correct\n<a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/PubsubMessage\">Message Format<\/a>.\nIf provided, $data will be base64 encoded before being published,\nunless <code>$options['encode']<\/code> is set to false. (See below for more\ndetails.)<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.encode","description":"<p>True by default. If set to false, the message data will not be base64-encoded. Only turn this off if you have already encoded your message data.<\/p>","types":["bool"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p>A list of message IDs.<\/p>"}]},{"id":"subscribe","type":"instance","name":"subscribe","source":"\/src\/PubSub\/Topic.php#L364","description":"<p>Create a subscription to the topic.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n\n$topic->subscribe('my-new-subscription');"}],"resources":[{"title":"Create Subscription","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.subscriptions\/create"}],"params":[{"name":"name","description":"<p>The subscription name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Please see <a data-custom-type=\"pubsub\/subscription\" data-method=\"create\">Google\\Cloud\\PubSub\\Subscription::create()<\/a> for configuration details.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscription","type":"instance","name":"subscription","source":"\/src\/PubSub\/Topic.php#L387","description":"<p>This method will not run any API requests. You will receive a\nSubscription object that you can use to interact with the API.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n\n$topic->subscribe('my-new-subscription');"}],"resources":[],"params":[{"name":"name","description":"<p>The subscription name<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscriptions","type":"instance","name":"subscriptions","source":"\/src\/PubSub\/Topic.php#L416","description":"<p>Retrieve a list of active subscriptions to the current topic.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n\n$subscriptions = $topic->subscriptions();\nforeach ($subscriptions as $subscription) {\n    var_dump($subscription->info());\n}"}],"resources":[{"title":"List Topic Subscriptions","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics.subscriptions\/list"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.pageSize","description":"<p>Maximum number of subscriptions to return.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["Generator&lt;<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>&gt;"],"description":""}]},{"id":"iam","type":"instance","name":"iam","source":"\/src\/PubSub\/Topic.php#L453","description":"<p>Manage the IAM policy for the current Topic.<\/p>","examples":[{"caption":"","code":"$topic = $pubsub->topic('my-topic-name');\n\n$currentPolicy = $topic->iam()->policy();"}],"resources":[{"title":"PubSub Access Control Documentation","link":"https:\/\/cloud.google.com\/pubsub\/access_control"},{"title":"Get Topic IAM Policy","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/getIamPolicy"},{"title":"Set Topic IAM Policy","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/setIamPolicy"},{"title":"Test Topic Permissions","link":"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics\/testIamPermissions"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"iam\/iam\">Google\\Cloud\\Iam\\Iam<\/a>"],"description":""}]}]}