{"id":"pubsub\/topic","type":"class","title":"Google\\Cloud\\PubSub\\Topic","name":"Topic","description":"<p>A named resource to which messages are sent by publishers.<\/p>","methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/PubSub\/Topic.php#L87","description":"<p>Create a PubSub topic.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n\/\/ The idiomatic way to get a Topic instance would be through PubSubClient:\n\n$client = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $client->pubsub();\n$topic = $pubsub->topic('my-topic-name');\n\n\/\/ But you can instantiate the topic directly if you want!\n\nuse Google\\Cloud\\PubSub\\Topic;\n\n$topic = new Topic($connection, 'my-topic-name', 'my-awesome-project');\n\n\/\/ You can also pass a fully-qualified topic name:\n$topic = new Topic(\n    $connection,\n    'projects\/my-awesome-project\/topics\/my-topic-name',\n    'my-awesome-project'\n);"}],"resources":[],"params":[{"name":"connection","description":"<p>A connection to the\nGoogle Cloud Platform service<\/p>","types":["<a data-custom-type=\"pubsub\/connection\/connectioninterface\">Google\\Cloud\\PubSub\\Connection\\ConnectionInterface<\/a>"],"optional":null,"nullable":null},{"name":"name","description":"<p>The topic name<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"projectId","description":"<p>The project Id<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"info","description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics#Topic\">A topic resource<\/a><\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"create","type":"instance","name":"create","source":"\/src\/PubSub\/Topic.php#L126","description":"<p>Create a topic.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n$topic = $pubsub->topic('my-topic-name');\nif ($topic->create()) {\n    echo 'Topic Created!';\n}"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p>Topic information<\/p>"}]},{"id":"delete","type":"instance","name":"delete","source":"\/src\/PubSub\/Topic.php#L155","description":"<p>Delete a topic.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n$topic = $pubsub->topic('my-topic-name');\n\n$topic->delete();"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["void"],"description":""}]},{"id":"exists","type":"instance","name":"exists","source":"\/src\/PubSub\/Topic.php#L188","description":"<p>Check if a topic exists.<\/p>\n<p>Service errors will NOT bubble up from this method. It will always return\na boolean value. If you want to check for errors, use\n<a data-custom-type=\"pubsub\/topic\" data-method=\"info\">Google\\Cloud\\PubSub\\Topic::info()<\/a>.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\nif ($topic->exists()) {\n     \/\/ do stuff\n}"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["bool"],"description":""}]},{"id":"info","type":"instance","name":"info","source":"\/src\/PubSub\/Topic.php#L229","description":"<p>Get topic information.<\/p>\n<p>Currently this resource returns only the topic name, if the topic exists.\nIt is mostly useful therefore for checking if a topic exists.<\/p>\n<p>Since this method will throw an exception if the topic is not found, you\nmay find that Topic::exists() is a better fit for a true\/false check.<\/p>\n<p>This method will use the previously cached result, if available. To force\na refresh from the API, use <a data-custom-type=\"pubsub\/topic\" data-method=\"reload\">Google\\Cloud\\PubSub\\Topic::reload()<\/a>.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\n$info = $topic->info();\necho $info['name']; \/\/ projects\/my-awesome-project\/topics\/my-topic-name"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics#Topic\">A topic resource<\/a><\/p>"}]},{"id":"reload","type":"instance","name":"reload","source":"\/src\/PubSub\/Topic.php#L269","description":"<p>Get topic information from the API.<\/p>\n<p>Currently this resource returns only the topic name, if the topic exists.\nIt is mostly useful therefore for checking if a topic exists.<\/p>\n<p>Since this method will throw an exception if the topic is not found, you\nmay find that Topic::exists() is a better fit for a true\/false check.<\/p>\n<p>This method will retrieve a new result from the API. To use a previously\ncached result, if one exists, use <a data-custom-type=\"pubsub\/topic\" data-method=\"info\">Google\\Cloud\\PubSub\\Topic::info()<\/a>.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\n$topic->reload();\n$info = $topic->info();\necho $info['name']; \/\/ projects\/my-awesome-project\/topics\/my-topic-name"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.topics#Topic\">A topic resource<\/a><\/p>"}]},{"id":"publish","type":"instance","name":"publish","source":"\/src\/PubSub\/Topic.php#L317","description":"<p>Publish a new message to the topic.<\/p>\n<p>$message must provide at least one of <code>data<\/code> and <code>attributes<\/code> members.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\n$topic->publish([\n    'data' => New User Registered',\n    'attributes' => [\n        'id' => 1,\n        'userName' => 'John',\n        'location' => 'Detroit'\n    ]\n]);"}],"resources":[],"params":[{"name":"message","description":"<p>{\n<a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/PubsubMessage\">Message Format<\/a><\/p>\n<pre><code>@type string $data       The message payload\n@type array  $attributes An array containing a list of key\/value\n                         pairs<\/code><\/pre>\n<p>}<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.encode","description":"<p>True by default. If set to false, the message data will not be base64-encoded. Only turn this off if you have already encoded your message data.<\/p>","types":["bool"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p>A list of message IDs<\/p>"}]},{"id":"publishBatch","type":"instance","name":"publishBatch","source":"\/src\/PubSub\/Topic.php#L369","description":"<p>Publish multiple messages at once.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\n$topic->publishBatch([\n    [\n        'data' => New User Registered',\n        'attributes' => [\n            'id' => 1,\n            'userName' => 'John',\n            'location' => 'Detroit'\n        ]\n    ], [\n        'data' => New User Registered',\n        'attributes' => [\n            'id' => 2,\n            'userName' => 'Steve',\n            'location' => 'Mountain View'\n        ]\n    ]\n]);"}],"resources":[],"params":[{"name":"messages","description":"<p>A list of messages. Each message must be in the\n<a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/PubsubMessage\">message format found here<\/a>.\nIf provided, $data will be base64 encoded before being published,\nunless <code>$options['encode']<\/code> is set to false. (See below for more\ndetails.)<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.encode","description":"<p>True by default. If set to false, the message data will not be base64-encoded. Only turn this off if you have already encoded your message data.<\/p>","types":["bool"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":"<p>A list of message IDs.<\/p>"}]},{"id":"subscribe","type":"instance","name":"subscribe","source":"\/src\/PubSub\/Topic.php#L405","description":"<p>Create a subscription to the topic.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\n\n$topic->subscribe('my-new-subscription');"}],"resources":[],"params":[{"name":"name","description":"<p>The subscription's name.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options","description":"<p>Please see <a data-custom-type=\"pubsub\/subscription\" data-method=\"create\">Google\\Cloud\\PubSub\\Subscription::create()<\/a> for configuration details.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscription","type":"instance","name":"subscription","source":"\/src\/PubSub\/Topic.php#L438","description":"<p>This method will not run any API requests. You will receive a\nSubscription object that you can use to interact with the API.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\n\n$subscription = $topic->subscription('my-subscription');"}],"resources":[],"params":[{"name":"name","description":"<p>The subscription's name.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"info","description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/reference\/rest\/v1\/projects.subscriptions#Subscription\">A subscription resource<\/a><\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscriptions","type":"instance","name":"subscriptions","source":"\/src\/PubSub\/Topic.php#L477","description":"<p>Retrieve a list of active subscriptions to the current topic.<\/p>","examples":[{"caption":"","code":""},{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder([\n    'projectId' => 'my-awesome-project'\n]);\n\n$pubsub = $cloud->pubsub();\n\n$topic = $pubsub->topic('my-topic-name');\n\n$subscriptions = $topic->subscriptions();\nforeach ($subscriptions as $subscription) {\n    var_dump($subscription->info());\n}"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.pageSize","description":"<p>Maximum number of subscriptions to return.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["\\Generator"],"description":"<p>Populated with Subscription objects<\/p>"}]},{"id":"__debugInfo","type":"instance","name":"__debugInfo","source":"\/src\/PubSub\/Topic.php#L503","description":"<p>Present a nicer debug result to people using php 5.6 or greater.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["array"],"description":""}]}]}
