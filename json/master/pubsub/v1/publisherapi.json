{"id":"pubsub\/v1\/publisherapi","type":"","title":"Google\\Cloud\\PubSub\\V1\\PublisherApi","name":"PublisherApi","description":"<p>Service Description: The service that an application uses to manipulate topics, and to send\nmessages to a topic.<\/p>\n<p>This class provides the ability to make remote calls to the backing service through method\ncalls that map to API methods. Sample code to get started:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedName = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $response = $publisherApi-&gt;createTopic($formattedName);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>\n<p>Many parameters require resource names to be formatted in a particular way. To assist\nwith these names, this class includes a format method for each type of name, and additionally\na parse method to extract the individual identifiers contained within names that are\nreturned.<\/p>","examples":[],"resources":[],"methods":[{"id":"formatProjectName","type":"instance","name":"formatProjectName","source":"#L105","description":"<p>Formats a string containing the fully-qualified path to represent\na project resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"formatTopicName","type":"instance","name":"formatTopicName","source":"#L116","description":"<p>Formats a string containing the fully-qualified path to represent\na topic resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"parseProjectFromProjectName","type":"instance","name":"parseProjectFromProjectName","source":"#L128","description":"<p>Parses the project from the given fully-qualified path which\nrepresents a project resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"parseProjectFromTopicName","type":"instance","name":"parseProjectFromTopicName","source":"#L137","description":"<p>Parses the project from the given fully-qualified path which\nrepresents a topic resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"parseTopicFromTopicName","type":"instance","name":"parseTopicFromTopicName","source":"#L146","description":"<p>Parses the topic from the given fully-qualified path which\nrepresents a topic resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"__construct","type":"constructor","name":"__construct","source":"#L227","description":"<p>Constructor.<\/p>","examples":[],"resources":[],"params":[{"name":"options","description":"<p>Optional. Options for configuring the service API wrapper.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"options.serviceAddress","description":"<p>The domain name of the API remote host. Default 'pubsub.googleapis.com'.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.port","description":"<p>The port on which to connect to the remote host. Default 443.<\/p>","types":["mixed"],"optional":null,"nullable":null},{"name":"options.sslCreds\n","description":"<p>A <code>ChannelCredentials<\/code> for use with an SSL-enabled channel. Default: a credentials object returned from Grpc\\ChannelCredentials::createSsl()<\/p>","types":["Grpc\\ChannelCredentials"],"optional":null,"nullable":null},{"name":"options.scopes","description":"<p>A string array of scopes to use when acquiring credentials. Default the scopes for the Google Cloud Pub\/Sub API.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.retryingOverride\n","description":"<p>An associative array of string =&gt; RetryOptions, where the keys are method names (e.g. 'createFoo'), that overrides default retrying settings. A value of null indicates that the method in question should not retry.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.timeoutMillis","description":"<p>The timeout in milliseconds to use for calls that don't use retries. For calls that use retries, set the timeout in RetryOptions. Default: 30000 (30 seconds)<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"options.appName","description":"<p>The codename of the calling service. Default 'gax'.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.appVersion","description":"<p>The version of the calling service. Default: the current version of GAX.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.credentialsLoader\n","description":"<p>A CredentialsLoader object created using the Google\\Auth library.<\/p>","types":["Google\\Auth\\CredentialsLoader"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"createTopic","type":"instance","name":"createTopic","source":"#L350","description":"<p>Creates the given topic with the given name.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedName = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $response = $publisherApi-&gt;createTopic($formattedName);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"name","description":"<p>The name of the topic. It must have the format\n<code>\"projects\/{project}\/topics\/{topic}\"<\/code>. <code>{topic}<\/code> must start with a letter,\nand contain only letters (<code>[A-Za-z]<\/code>), numbers (<code>[0-9]<\/code>), dashes (<code>-<\/code>),\nunderscores (<code>_<\/code>), periods (<code>.<\/code>), tildes (<code>~<\/code>), plus (<code>+<\/code>) or percent\nsigns (<code>%<\/code>). It must be between 3 and 255 characters in length, and it\nmust not start with <code>\"goog\"<\/code>.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/pubsub\/v1\/topic\">Google\\Cloud\\PubSub\\V1\\google\\pubsub\\v1\\Topic<\/a>"],"description":""}]},{"id":"publish","type":"instance","name":"publish","source":"#L410","description":"<p>Adds one or more messages to the topic. Returns <code>NOT_FOUND<\/code> if the topic\ndoes not exist. The message payload must not be empty; it must contain\neither a non-empty data field, or at least one attribute.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedTopic = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $data = \"\";\n    $messagesElement = new PubsubMessage();\n    $messagesElement-&gt;setData($data);\n    $messages = [$messagesElement];\n    $response = $publisherApi-&gt;publish($formattedTopic, $messages);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"topic","description":"<p>The messages in the request will be published on this topic.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"messages","description":"<p>The messages to publish.<\/p>","types":["\\google\\pubsub\\v1\\PubsubMessage[]"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/pubsub\/v1\/publishresponse\">Google\\Cloud\\PubSub\\V1\\google\\pubsub\\v1\\PublishResponse<\/a>"],"description":""}]},{"id":"getTopic","type":"instance","name":"getTopic","source":"#L466","description":"<p>Gets the configuration of a topic.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedTopic = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $response = $publisherApi-&gt;getTopic($formattedTopic);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"topic","description":"<p>The name of the topic to get.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/pubsub\/v1\/topic\">Google\\Cloud\\PubSub\\V1\\google\\pubsub\\v1\\Topic<\/a>"],"description":""}]},{"id":"listTopics","type":"instance","name":"listTopics","source":"#L530","description":"<p>Lists matching topics.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedProject = PublisherApi::formatProjectName(\"[PROJECT]\");\n    foreach ($publisherApi-&gt;listTopics($formattedProject) as $element) {\n        \/\/ doThingsWith(element);\n    }\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"project","description":"<p>The name of the cloud project that topics belong to.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.pageSize\n","description":"<p>The maximum number of resources contained in the underlying API response. The API may return fewer values in a page, even if there are additional values to be retrieved.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"optionalArgs.pageToken\n","description":"<p>A page token is used to specify a page of values to be returned. If no page token is specified (the default), the first page of values will be returned. Any page token used here must have been generated by a previous call to the API.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/gax\/pagedlistresponse\">Google\\Cloud\\PubSub\\V1\\Google\\GAX\\PagedListResponse<\/a>"],"description":""}]},{"id":"listTopicSubscriptions","type":"instance","name":"listTopicSubscriptions","source":"#L600","description":"<p>Lists the name of the subscriptions for this topic.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedTopic = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    foreach ($publisherApi-&gt;listTopicSubscriptions($formattedTopic) as $element) {\n        \/\/ doThingsWith(element);\n    }\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"topic","description":"<p>The name of the topic that subscriptions are attached to.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.pageSize\n","description":"<p>The maximum number of resources contained in the underlying API response. The API may return fewer values in a page, even if there are additional values to be retrieved.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"optionalArgs.pageToken\n","description":"<p>A page token is used to specify a page of values to be returned. If no page token is specified (the default), the first page of values will be returned. Any page token used here must have been generated by a previous call to the API.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/gax\/pagedlistresponse\">Google\\Cloud\\PubSub\\V1\\Google\\GAX\\PagedListResponse<\/a>"],"description":""}]},{"id":"deleteTopic","type":"instance","name":"deleteTopic","source":"#L661","description":"<p>Deletes the topic with the given name. Returns <code>NOT_FOUND<\/code> if the topic\ndoes not exist. After a topic is deleted, a new topic may be created with\nthe same name; this is an entirely new topic with none of the old\nconfiguration or subscriptions. Existing subscriptions to this topic are\nnot deleted, but their <code>topic<\/code> field is set to <code>_deleted-topic_<\/code>.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedTopic = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $publisherApi-&gt;deleteTopic($formattedTopic);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"topic","description":"<p>Name of the topic to delete.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[]},{"id":"setIamPolicy","type":"instance","name":"setIamPolicy","source":"#L721","description":"<p>Sets the access control policy on the specified resource. Replaces any\nexisting policy.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedResource = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $policy = new Policy();\n    $response = $publisherApi-&gt;setIamPolicy($formattedResource, $policy);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"resource","description":"<p>REQUIRED: The resource for which policy is being specified.\nResource is usually specified as a path, such as,\nprojects\/{project}\/zones\/{zone}\/disks\/{disk}.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"policy","description":"<p>REQUIRED: The complete policy to be applied to the 'resource'. The size of\nthe policy is limited to a few 10s of KB. An empty policy is in general a\nvalid policy but certain services (like Projects) might reject them.<\/p>","types":["\\google\\iam\\v1\\Policy"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/iam\/v1\/policy\">Google\\Cloud\\PubSub\\V1\\google\\iam\\v1\\Policy<\/a>"],"description":""}]},{"id":"getIamPolicy","type":"instance","name":"getIamPolicy","source":"#L777","description":"<p>Gets the access control policy for a resource. Is empty if the\npolicy or the resource does not exist.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedResource = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $response = $publisherApi-&gt;getIamPolicy($formattedResource);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"resource","description":"<p>REQUIRED: The resource for which policy is being requested. Resource\nis usually specified as a path, such as, projects\/{project}.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/iam\/v1\/policy\">Google\\Cloud\\PubSub\\V1\\google\\iam\\v1\\Policy<\/a>"],"description":""}]},{"id":"testIamPermissions","type":"instance","name":"testIamPermissions","source":"#L834","description":"<p>Returns permissions that a caller has on the specified resource.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $publisherApi = new PublisherApi();\n    $formattedResource = PublisherApi::formatTopicName(\"[PROJECT]\", \"[TOPIC]\");\n    $permissions = [];\n    $response = $publisherApi-&gt;testIamPermissions($formattedResource, $permissions);\n} finally {\n    if (isset($publisherApi)) {\n        $publisherApi-&gt;close();\n    }\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"resource","description":"<p>REQUIRED: The resource for which policy detail is being requested.\nResource is usually specified as a path, such as, projects\/{project}.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"permissions","description":"<p>The set of permissions to check for the 'resource'. Permissions with\nwildcards (such as '<em>' or 'storage.<\/em>') are not allowed.<\/p>","types":["string[]"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["Google\\GAX\\RetrySettings"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\PubSub\\V1\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"pubsub\/v1\/google\/iam\/v1\/testiampermissionsresponse\">Google\\Cloud\\PubSub\\V1\\google\\iam\\v1\\TestIamPermissionsResponse<\/a>"],"description":""}]},{"id":"close","type":"instance","name":"close","source":"#L862","description":"<p>Initiates an orderly shutdown in which preexisting calls continue but new\ncalls are immediately cancelled.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]}]}